---
# For more options, see https://docs.honeybadger.io/lib/ruby/gem-reference/configuration

# API key should be set via environment variable or Rails credentials for security
# Environment variable: HONEYBADGER_API_KEY
# Rails credentials: honeybadger.api_key
api_key: "<%= ENV['HONEYBADGER_API_KEY'] || Rails.application.credentials.dig(:honeybadger, :api_key) %>"

# The environment your app is running in.
env: "<%= Rails.env %>"

# The absolute path to your project folder.
root: "<%= Rails.root.to_s %>"

# Honeybadger won't report errors in these environments.
development_environments:
  - cucumber

# By default, Honeybadger won't report errors in the development_environments.
# Development: Requires HONEYBADGER_ENABLED_IN_DEV=true environment variable
# Test: Requires HONEYBADGER_ENABLED_IN_TEST=true environment variable
# Production: Always enabled
report_data: <%= Rails.env.production? || (Rails.env.test? && ENV['HONEYBADGER_ENABLED_IN_TEST'] == 'true') || (Rails.env.development? && ENV['HONEYBADGER_ENABLED_IN_DEV'] == 'true') %>

# The current Git revision of your project. Defaults to the last commit hash.
# revision: null

# Enable verbose debug logging (useful for troubleshooting).
debug: false

# Enable Honeybadger Insights for performance monitoring
# Development: Requires HONEYBADGER_ENABLED_IN_DEV=true environment variable
# Test: Requires HONEYBADGER_ENABLED_IN_TEST=true environment variable
# Production: Always enabled
insights:
  enabled: <%= Rails.env.production? || (Rails.env.test? && ENV['HONEYBADGER_ENABLED_IN_TEST'] == 'true') || (Rails.env.development? && ENV['HONEYBADGER_ENABLED_IN_DEV'] == 'true') %>

# Filter sensitive data from error reports
request:
  filter_keys:
    - password
    - password_confirmation
    - credit_card
    - card_number
    - cvv
    - stripe

# Breadcrumbs for debugging context
breadcrumbs:
  enabled: true

# Error grouping
exceptions:
  # Ignore common errors that don't need tracking
  ignore:
    - ActionController::RoutingError
    - ActiveRecord::RecordNotFound
    - ActionController::InvalidAuthenticityToken
